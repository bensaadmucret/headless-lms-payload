
> backoffice@1.0.0 test
> jest --coverage --verbose

PASS src/collections/__tests__/Assignments.test.ts
  Assignments Collection
    ✓ should have the correct slug (12 ms)
    ✓ should use the correct title field in admin
    ✓ should define all expected fields (2 ms)
    ✓ should set required and default properties correctly (1 ms)
    ✓ should include afterChange and afterDelete hooks

PASS src/collections/__tests__/Courses.test.ts
  Courses Collection
    ✓ should have the correct slug (7 ms)
    ✓ should define all expected fields (1 ms)
    ✓ should include afterChange and afterDelete hooks (1 ms)

PASS src/collections/__tests__/Categories.test.ts
  Categories Collection
    ✓ should have the correct slug (7 ms)
    ✓ should define all expected fields (2 ms)
    ✓ should include afterChange and afterDelete hooks (9 ms)

PASS src/collections/__tests__/Lessons.test.ts
  Lessons Collection
    ✓ should have the correct slug (1 ms)
    ✓ should define all expected fields (1 ms)

PASS src/collections/__tests__/Badges.test.ts
  Badges Collection
    ✓ should have the correct slug (1 ms)
    ✓ should define all expected fields (1 ms)
    ✓ should include afterChange and afterDelete hooks

PASS src/collections/__tests__/ColorSchemes.test.ts
  ColorSchemes Collection
    ✓ should have the correct slug (1 ms)
    ✓ should define all expected fields (5 ms)

PASS src/collections/__tests__/Progress.test.ts
  Progress Collection
    ✓ should have the correct slug (8 ms)
    ✓ should define all expected fields
    ✓ should include afterChange and afterDelete hooks

PASS src/collections/__tests__/Prerequisites.test.ts
  Prerequisites Collection
    ✓ should have the correct slug (1 ms)
    ✓ should define all expected fields (25 ms)
    ✓ should include afterChange and afterDelete hooks (1 ms)

PASS src/collections/__tests__/AuditLogs.test.ts
  AuditLogs Collection
    ✓ should have the correct slug (5 ms)
    ✓ should define all expected fields (1 ms)
    ✓ should include hooks if defined

PASS src/collections/__tests__/Quizzes.test.ts
  Quizzes Collection
    ✓ should have the correct slug (1 ms)
    ✓ should define all expected fields (1 ms)

PASS src/collections/__tests__/Sections.test.ts
  Sections Collection
    ✓ should have the correct slug (1 ms)
    ✓ should define all expected fields (1 ms)
    ✓ should include afterChange and afterDelete hooks

PASS src/collections/__tests__/Media.test.ts
  Media Collection
    ✓ should have the correct slug (1 ms)
    ✓ should define all expected fields
    ✓ should include afterChange and afterDelete hooks (1 ms)

-------------------------------------------------|---------|----------|---------|---------|-------------------
File                                             | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
-------------------------------------------------|---------|----------|---------|---------|-------------------
All files                                        |    2.27 |     0.86 |    0.58 |    2.38 |                   
 src                                             |       0 |        0 |       0 |       0 |                   
  payload-types.ts                               |       0 |        0 |       0 |       0 |                   
  payload.config.ts                              |       0 |        0 |       0 |       0 | 31-103            
 src/Footer                                      |       0 |        0 |       0 |       0 |                   
  Component.tsx                                  |       0 |        0 |       0 |       0 | 12-27             
  RowLabel.tsx                                   |       0 |        0 |       0 |       0 | 5-12              
  config.ts                                      |       0 |      100 |       0 |       0 | 6-9               
 src/Footer/hooks                                |       0 |        0 |       0 |       0 |                   
  revalidateFooter.ts                            |       0 |        0 |       0 |       0 | 5-12              
 src/Header                                      |       0 |        0 |       0 |       0 |                   
  Component.client.tsx                           |       0 |        0 |       0 |       0 | 16-32             
  Component.tsx                                  |       0 |      100 |       0 |       0 | 8-10              
  RowLabel.tsx                                   |       0 |        0 |       0 |       0 | 5-12              
  config.ts                                      |       0 |      100 |       0 |       0 | 6-9               
 src/Header/Nav                                  |       0 |        0 |       0 |       0 |                   
  index.tsx                                      |       0 |        0 |       0 |       0 | 11-17             
 src/Header/hooks                                |       0 |        0 |       0 |       0 |                   
  revalidateHeader.ts                            |       0 |        0 |       0 |       0 | 5-12              
 src/access                                      |      25 |        0 |       0 |   28.57 |                   
  anyone.ts                                      |      50 |      100 |       0 |     100 |                   
  authenticated.ts                               |      50 |      100 |       0 |      50 | 8                 
  authenticatedOrPublished.ts                    |       0 |        0 |       0 |       0 | 3-8               
 src/app/(frontend)                              |       0 |      100 |       0 |       0 |                   
  layout.tsx                                     |       0 |      100 |       0 |       0 | 20-46             
  not-found.tsx                                  |       0 |      100 |       0 |       0 | 7                 
  page.tsx                                       |       0 |        0 |       0 |       0 |                   
 src/app/(frontend)/(sitemaps)/pages-sitemap.xml |       0 |        0 |       0 |       0 |                   
  route.ts                                       |       0 |        0 |       0 |       0 | 6-67              
 src/app/(frontend)/(sitemaps)/posts-sitemap.xml |       0 |        0 |       0 |       0 |                   
  route.ts                                       |       0 |        0 |       0 |       0 | 6-54              
 src/app/(frontend)/[slug]                       |       0 |        0 |       0 |       0 |                   
  page.client.tsx                                |       0 |      100 |       0 |       0 | 5-12              
  page.tsx                                       |       0 |        0 |       0 |       0 | 17-109            
 src/app/(frontend)/next/exit-preview            |       0 |      100 |       0 |       0 |                   
  route.ts                                       |       0 |      100 |       0 |       0 | 4-6               
 src/app/(frontend)/next/preview                 |       0 |        0 |       0 |       0 |                   
  route.ts                                       |       0 |        0 |       0 |       0 | 18-62             
 src/app/(frontend)/next/seed                    |       0 |        0 |       0 |       0 |                   
  route.ts                                       |       0 |        0 |       0 |       0 | 6-29              
 src/app/(frontend)/posts                        |       0 |        0 |       0 |       0 |                   
  page.client.tsx                                |       0 |      100 |       0 |       0 | 5-12              
  page.tsx                                       |       0 |        0 |       0 |       0 | 11-60             
 src/app/(frontend)/posts/[slug]                 |       0 |        0 |       0 |       0 |                   
  page.client.tsx                                |       0 |      100 |       0 |       0 | 5-12              
  page.tsx                                       |       0 |        0 |       0 |       0 | 19-103            
 src/app/(frontend)/posts/page/[pageNumber]      |       0 |        0 |       0 |       0 |                   
  page.client.tsx                                |       0 |      100 |       0 |       0 | 5-12              
  page.tsx                                       |       0 |        0 |       0 |       0 | 12-87             
 src/app/(frontend)/search                       |       0 |        0 |       0 |       0 |                   
  page.client.tsx                                |       0 |      100 |       0 |       0 | 5-12              
  page.tsx                                       |       0 |        0 |       0 |       0 | 17-85             
 src/app/(payload)                               |       0 |      100 |       0 |       0 |                   
  layout.tsx                                     |       0 |      100 |       0 |       0 | 16-26             
 src/app/(payload)/admin/[[...segments]]         |       0 |      100 |       0 |       0 |                   
  not-found.tsx                                  |       0 |      100 |       0 |       0 | 18-22             
  page.tsx                                       |       0 |      100 |       0 |       0 | 18-22             
 src/app/(payload)/api/[...slug]                 |       0 |      100 |     100 |       0 |                   
  route.ts                                       |       0 |      100 |     100 |       0 | 14-20             
 src/app/(payload)/api/graphql                   |       0 |      100 |     100 |       0 |                   
  route.ts                                       |       0 |      100 |     100 |       0 | 6-8               
 src/app/(payload)/api/graphql-playground        |       0 |      100 |     100 |       0 |                   
  route.ts                                       |       0 |      100 |     100 |       0 | 7                 
 src/blocks                                      |       0 |        0 |       0 |       0 |                   
  RenderBlocks.tsx                               |       0 |        0 |       0 |       0 | 11-50             
 src/blocks/ArchiveBlock                         |       0 |        0 |       0 |       0 |                   
  Component.tsx                                  |       0 |        0 |       0 |       0 | 14-55             
  config.ts                                      |       0 |      100 |       0 |       0 | 10-83             
 src/blocks/Banner                               |       0 |      100 |       0 |       0 |                   
  Component.tsx                                  |       0 |      100 |       0 |       0 | 11-12             
  config.ts                                      |       0 |      100 |       0 |       0 | 9-29              
 src/blocks/CallToAction                         |       0 |        0 |       0 |       0 |                   
  Component.tsx                                  |       0 |        0 |       0 |       0 | 8-17              
  config.ts                                      |       0 |      100 |       0 |       0 | 12-21             
 src/blocks/Code                                 |       0 |        0 |       0 |       0 |                   
  Component.client.tsx                           |       0 |        0 |       0 |       0 | 11-23             
  Component.tsx                                  |       0 |      100 |       0 |       0 | 15-16             
  CopyButton.tsx                                 |       0 |        0 |       0 |       0 | 7-25              
  config.ts                                      |       0 |      100 |     100 |       0 | 3                 
 src/blocks/Content                              |       0 |        0 |       0 |       0 |                   
  Component.tsx                                  |       0 |        0 |       0 |       0 | 9-27              
  config.ts                                      |       0 |      100 |       0 |       0 | 12-66             
 src/blocks/Form                                 |       0 |        0 |       0 |       0 |                   
  Component.tsx                                  |       0 |        0 |       0 |       0 | 26-150            
  config.ts                                      |       0 |      100 |       0 |       0 | 10-33             
  fields.tsx                                     |       0 |      100 |     100 |       0 | 11                
 src/blocks/Form/Checkbox                        |       0 |        0 |       0 |       0 |                   
  index.tsx                                      |       0 |        0 |       0 |       0 | 18-30             
 src/blocks/Form/Country                         |       0 |        0 |       0 |       0 |                   
  index.tsx                                      |       0 |        0 |       0 |       0 | 24-50             
  options.ts                                     |       0 |      100 |     100 |       0 | 1                 
 src/blocks/Form/Email                           |       0 |        0 |       0 |       0 |                   
  index.tsx                                      |       0 |        0 |       0 |       0 | 16-17             
 src/blocks/Form/Error                           |       0 |        0 |       0 |       0 |                   
  index.tsx                                      |       0 |        0 |       0 |       0 | 6-10              
 src/blocks/Form/Message                         |       0 |        0 |       0 |       0 |                   
  index.tsx                                      |       0 |        0 |       0 |       0 | 7-8               
 src/blocks/Form/Number                          |       0 |        0 |       0 |       0 |                   
  index.tsx                                      |       0 |        0 |       0 |       0 | 15-16             
 src/blocks/Form/Select                          |       0 |        0 |       0 |       0 |                   
  index.tsx                                      |       0 |        0 |       0 |       0 | 23-48             
 src/blocks/Form/State                           |       0 |        0 |       0 |       0 |                   
  index.tsx                                      |       0 |        0 |       0 |       0 | 24-49             
  options.ts                                     |       0 |      100 |     100 |       0 | 1                 
 src/blocks/Form/Text                            |       0 |        0 |       0 |       0 |                   
  index.tsx                                      |       0 |        0 |       0 |       0 | 16-17             
 src/blocks/Form/Textarea                        |       0 |        0 |       0 |       0 |                   
  index.tsx                                      |       0 |        0 |       0 |       0 | 17-18             
 src/blocks/Form/Width                           |       0 |        0 |       0 |       0 |                   
  index.tsx                                      |       0 |        0 |       0 |       0 | 7-8               
 src/blocks/MediaBlock                           |       0 |        0 |       0 |       0 |                   
  Component.tsx                                  |       0 |        0 |       0 |       0 | 21-35             
  config.ts                                      |       0 |      100 |     100 |       0 | 3                 
 src/blocks/RelatedPosts                         |       0 |        0 |       0 |       0 |                   
  Component.tsx                                  |       0 |        0 |       0 |       0 | 16-27             
 src/collections                                 |   39.13 |     3.57 |       0 |   42.85 |                   
  Assignments.ts                                 |     100 |      100 |     100 |     100 |                   
  AuditLogs.ts                                   |   16.66 |      100 |       0 |   16.66 | 11-56             
  Badges.ts                                      |      20 |        0 |       0 |      20 | 17-20             
  Categories.ts                                  |     100 |      100 |     100 |     100 |                   
  ColorSchemes.ts                                |     100 |      100 |     100 |     100 |                   
  Courses.ts                                     |     100 |      100 |     100 |     100 |                   
  Lessons.ts                                     |     100 |      100 |     100 |     100 |                   
  Media.ts                                       |   66.66 |       50 |       0 |   66.66 | 45                
  Prerequisites.ts                               |     100 |      100 |     100 |     100 |                   
  Progress.ts                                    |     100 |      100 |     100 |     100 |                   
  Quizzes.ts                                     |     100 |      100 |     100 |     100 |                   
  Sections.ts                                    |     100 |      100 |     100 |     100 |                   
  getMediaDirname.ts                             |       0 |      100 |       0 |       0 | 7                 
  logAudit.ts                                    |   22.72 |        0 |       0 |   27.77 | 11,31-51,56-74    
 src/collections/Pages                           |       0 |        0 |       0 |       0 |                   
  index.ts                                       |       0 |        0 |       0 |       0 | 24-53             
 src/collections/Pages/hooks                     |       0 |        0 |       0 |       0 |                   
  revalidatePage.ts                              |       0 |        0 |       0 |       0 | 7-42              
 src/collections/Posts                           |       0 |        0 |       0 |       0 |                   
  index.ts                                       |       0 |        0 |       0 |       0 | 32-205            
 src/collections/Posts/hooks                     |       0 |        0 |       0 |       0 |                   
  populateAuthors.ts                             |       0 |        0 |       0 |       0 | 8-36              
  revalidatePost.ts                              |       0 |        0 |       0 |       0 | 7-43              
 src/collections/Users                           |       0 |        0 |       0 |       0 |                   
  index.ts                                       |       0 |        0 |       0 |       0 | 7-46              
 src/components/AdminBar                         |       0 |        0 |       0 |       0 |                   
  index.tsx                                      |       0 |        0 |       0 |       0 | 15-76             
 src/components/BeforeDashboard                  |       0 |      100 |       0 |       0 |                   
  index.tsx                                      |       0 |      100 |       0 |       0 | 7-10              
 src/components/BeforeDashboard/SeedButton       |       0 |        0 |       0 |       0 |                   
  index.tsx                                      |       0 |        0 |       0 |       0 | 8-80              
 src/components/BeforeLogin                      |       0 |      100 |       0 |       0 |                   
  index.tsx                                      |       0 |      100 |       0 |       0 | 3-4               
 src/components/Card                             |       0 |        0 |       0 |       0 |                   
  index.tsx                                      |       0 |        0 |       0 |       0 | 20-65             
 src/components/CollectionArchive                |       0 |        0 |       0 |       0 |                   
  index.tsx                                      |       0 |        0 |       0 |       0 | 10-26             
 src/components/Link                             |       0 |        0 |       0 |       0 |                   
  index.tsx                                      |       0 |        0 |       0 |       0 | 23-58             
 src/components/LivePreviewListener              |       0 |      100 |       0 |       0 |                   
  index.tsx                                      |       0 |      100 |       0 |       0 | 7-9               
 src/components/Logo                             |       0 |        0 |       0 |       0 |                   
  Logo.tsx                                       |       0 |        0 |       0 |       0 | 10-16             
 src/components/Media                            |       0 |        0 |       0 |       0 |                   
  index.tsx                                      |       0 |        0 |       0 |       0 | 8-14              
  types.ts                                       |       0 |        0 |       0 |       0 |                   
 src/components/Media/ImageMedia                 |       0 |        0 |       0 |       0 |                   
  index.tsx                                      |       0 |        0 |       0 |       0 | 14-59             
 src/components/Media/VideoMedia                 |       0 |        0 |       0 |       0 |                   
  index.tsx                                      |       0 |        0 |       0 |       0 | 10-45             
 src/components/PageRange                        |       0 |        0 |       0 |       0 |                   
  index.tsx                                      |       0 |        0 |       0 |       0 | 3-47              
 src/components/Pagination                       |       0 |        0 |       0 |       0 |                   
  index.tsx                                      |       0 |        0 |       0 |       0 | 19-93             
 src/components/PayloadRedirects                 |       0 |        0 |       0 |       0 |                   
  index.tsx                                      |       0 |        0 |       0 |       0 | 14-47             
 src/components/RichText                         |       0 |        0 |       0 |       0 |                   
  index.tsx                                      |       0 |        0 |       0 |       0 | 29-66             
 src/components/ui                               |       0 |        0 |       0 |       0 |                   
  button.tsx                                     |       0 |        0 |       0 |       0 | 6-49              
  card.tsx                                       |       0 |      100 |       0 |       0 | 6-45              
  checkbox.tsx                                   |       0 |      100 |       0 |       0 | 12-13             
  input.tsx                                      |       0 |      100 |       0 |       0 | 8-9               
  label.tsx                                      |       0 |      100 |       0 |       0 | 8-16              
  pagination.tsx                                 |       0 |        0 |       0 |       0 | 8-74              
  select.tsx                                     |       0 |        0 |       0 |       0 | 8-126             
  textarea.tsx                                   |       0 |      100 |       0 |       0 | 8-9               
 src/endpoints/seed                              |       0 |        0 |       0 |       0 |                   
  contact-form.ts                                |       0 |      100 |     100 |       0 | 3                 
  contact-page.ts                                |       0 |      100 |       0 |       0 | 8-11              
  home-static.ts                                 |       0 |      100 |     100 |       0 | 4                 
  home.ts                                        |       0 |      100 |       0 |       0 | 9-13              
  image-1.ts                                     |       0 |      100 |     100 |       0 | 3                 
  image-2.ts                                     |       0 |      100 |     100 |       0 | 3                 
  image-3.ts                                     |       0 |      100 |     100 |       0 | 3                 
  image-hero-1.ts                                |       0 |      100 |     100 |       0 | 3                 
  index.ts                                       |       0 |        0 |       0 |       0 | 13-357            
  post-1.ts                                      |       0 |      100 |       0 |       0 | 10-15             
  post-2.ts                                      |       0 |      100 |       0 |       0 | 4-9               
  post-3.ts                                      |       0 |      100 |       0 |       0 | 4-9               
 src/fields                                      |       0 |        0 |       0 |       0 |                   
  defaultLexical.ts                              |       0 |        0 |       0 |       0 | 12-40             
  link.ts                                        |       0 |        0 |       0 |       0 | 7-138             
  linkGroup.ts                                   |       0 |        0 |       0 |       0 | 13-27             
 src/fields/slug                                 |   21.05 |    16.66 |   22.22 |   22.22 |                   
  SlugComponent.tsx                              |       0 |        0 |       0 |       0 | 15-70             
  formatSlug.ts                                  |   27.27 |        0 |   33.33 |   27.27 | 4,12-24           
  index.ts                                       |     100 |      100 |     100 |     100 |                   
 src/globals                                     |       0 |        0 |       0 |       0 |                   
  CorsConfig.ts                                  |       0 |        0 |       0 |       0 | 5-121             
 src/heros                                       |       0 |        0 |       0 |       0 |                   
  RenderHero.tsx                                 |       0 |        0 |       0 |       0 | 9-24              
  config.ts                                      |       0 |        0 |       0 |       0 | 12-65             
 src/heros/HighImpact                            |       0 |        0 |       0 |       0 |                   
  index.tsx                                      |       0 |        0 |       0 |       0 | 11-29             
 src/heros/LowImpact                             |       0 |        0 |       0 |       0 |                   
  index.tsx                                      |       0 |        0 |       0 |       0 | 17-18             
 src/heros/MediumImpact                          |       0 |        0 |       0 |       0 |                   
  index.tsx                                      |       0 |        0 |       0 |       0 | 9-18              
 src/heros/PostHero                              |       0 |        0 |       0 |       0 |                   
  index.tsx                                      |       0 |        0 |       0 |       0 | 11-37             
 src/hooks                                       |       0 |        0 |       0 |       0 |                   
  formatSlug.ts                                  |       0 |        0 |       0 |       0 | 3-24              
  populatePublishedAt.ts                         |       0 |        0 |       0 |       0 | 3-14              
  revalidateRedirects.ts                         |       0 |      100 |       0 |       0 | 5-10              
 src/plugins                                     |       0 |        0 |       0 |       0 |                   
  index.ts                                       |       0 |        0 |       0 |       0 | 17-89             
 src/providers                                   |       0 |      100 |       0 |       0 |                   
  index.tsx                                      |       0 |      100 |       0 |       0 | 8-9               
 src/providers/HeaderTheme                       |       0 |        0 |       0 |       0 |                   
  index.tsx                                      |       0 |        0 |       0 |       0 | 14-33             
 src/providers/Theme                             |       0 |        0 |       0 |       0 |                   
  index.tsx                                      |       0 |        0 |       0 |       0 | 11-57             
  shared.ts                                      |       0 |        0 |       0 |       0 | 3-16              
  types.ts                                       |       0 |        0 |       0 |       0 | 9                 
 src/providers/Theme/InitTheme                   |       0 |      100 |       0 |       0 |                   
  index.tsx                                      |       0 |      100 |       0 |       0 | 6-7               
 src/providers/Theme/ThemeSelector               |       0 |        0 |       0 |       0 |                   
  index.tsx                                      |       0 |        0 |       0 |       0 | 17-36             
  types.ts                                       |       0 |      100 |     100 |       0 | 3-5               
 src/search                                      |       0 |        0 |       0 |       0 |                   
  Component.tsx                                  |       0 |        0 |       0 |       0 | 8-31              
  beforeSync.ts                                  |       0 |        0 |       0 |       0 | 3-43              
  fieldOverrides.ts                              |       0 |      100 |     100 |       0 | 3                 
 src/utilities                                   |       0 |        0 |       0 |       0 |                   
  canUseDOM.ts                                   |       0 |        0 |       0 |       0 |                   
  deepMerge.ts                                   |       0 |        0 |       0 |       0 | 10-34             
  formatAuthors.ts                               |       0 |        0 |       0 |       0 | 13-23             
  formatDateTime.ts                              |       0 |        0 |       0 |       0 | 1-19              
  generateMeta.ts                                |       0 |        0 |       0 |       0 | 8-33              
  generatePreviewPath.ts                         |       0 |        0 |       0 |       0 | 3-24              
  getDocument.ts                                 |       0 |        0 |       0 |       0 | 10-29             
  getGlobals.ts                                  |       0 |        0 |       0 |       0 | 10-24             
  getMeUser.ts                                   |       0 |        0 |       0 |       0 | 7-39              
  getRedirects.ts                                |       0 |        0 |       0 |       0 | 6-24              
  getURL.ts                                      |       0 |        0 |       0 |       0 | 3-30              
  mergeOpenGraph.ts                              |       0 |        0 |       0 |       0 | 4-17              
  toKebabCase.ts                                 |       0 |      100 |       0 |       0 | 1-2               
  ui.ts                                          |       0 |      100 |       0 |       0 | 11                
  useClickableCard.ts                            |       0 |        0 |       0 |       0 | 27-98             
  useDebounce.ts                                 |       0 |        0 |       0 |       0 | 4-16              
  validateUrl.ts                                 |       0 |        0 |       0 |       0 | 1-29              
-------------------------------------------------|---------|----------|---------|---------|-------------------
Test Suites: 12 passed, 12 total
Tests:       35 passed, 35 total
Snapshots:   0 total
Time:        13.289 s
Ran all test suites.
